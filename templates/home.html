<!DOCTYPE html>
<html>
  {% load static %}
  <title>Gionify</title>
  <link rel="stylesheet" href="{% static 'musics/style.css' %}">
  <link rel="stylesheet" href="{% static 'musics/tables_style.css' %}">
  <link rel="stylesheet" href="{% static 'musics/icons_style.css' %}">
  <link rel="stylesheet" href="{% static 'musics/volume_style.css' %}">
  <link rel="stylesheet" href="{% static 'musics/form_style.css' %}">
  <link rel="stylesheet" href="{% static 'musics/main_menu_style.css' %}">
  <link rel="icon" type="image/x-icon" href="{% static 'musics/favicon.ico' %}">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>

  <body>  
    {% comment %} ______________________________________DISPLAY-UL APLICATIEI, ESTE RESTUL ECRANULUI MAI PUTIN PLAYERUL________ {% endcomment %}
    <div id="main_display">

      {% comment %}___________________________________UN LOC DE AFISAT NOTIFICARI / MESAJE___________________________________{% endcomment %}
      {% for message in messages %}  
              <li>{{ message }}</li>  
      {% endfor %} 


      {% comment %}___________________________________MENIUL PRINCIPAL DE PE STANGA___________________________________{% endcomment %}
      <div id="main_menu">
        {% include 'main_menu_content.html' %}
      </div>


      {% comment %}___________________________________PAGINA PRINCIPALA DE CONTINUT___________________________________{% endcomment %}
      <div id="main_page">
        {% include 'main_page_content.html' %}
      </div>

    </div>



    {% comment %}_________________________________PLAYERUL IN SINE_____________________________ {% endcomment %}
    <div id="audio_player_container">
      {% include 'player_content.html' %}
    </div>



    {% comment %}_________________________________SCRIPTURI SI TRESTII_____________________________ {% endcomment %}
    {{musics_list|json_script:'musics_list'}}
    {{url_patterns|json_script:'url_patterns'}}
    {{playlist_list|json_script:'playlist_list'}}
    {% csrf_token %}
    <script>
      const musics=JSON.parse(document.getElementById('musics_list').textContent)
      let playlists=JSON.parse(document.getElementById('playlist_list').textContent)
      const urls=JSON.parse(document.getElementById('url_patterns').textContent)
      const csrftoken = document.querySelector('[name=csrfmiddlewaretoken]').value; 


      function update_liked_icon(){
        if(playlists[playlists['main_playlist_id']]['songs_id'].includes(musics[musicIndex].id)){
            document.getElementById('svg_not_liked_song').style.display = 'none'
            document.getElementById('svg_liked_song').style.display = 'block'
        }else{
            document.getElementById('svg_not_liked_song').style.display = 'block'
            document.getElementById('svg_liked_song').style.display = 'none'
        }
      }


    </script>

    <script src="{% static 'musics/include-script.js' %}"></script>
    
    <script src="{% static 'musics/script.js' %}"></script>
    <script src="{% static 'musics/volume_script.js' %}"></script>
    <script src="{% static 'musics/forms_requests.js' %}"></script>
    <script src="{% static 'musics/buttons_functions.js' %}"></script>



  </body>
</html>